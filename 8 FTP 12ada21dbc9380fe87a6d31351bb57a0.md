# 8. FTP

-Question:During a penetration test, you found that a Linux-based server in a subnet has an FTP service enabled. You suspect that there may be misconfigured or weak authentication allowing unauthorized access. Your goal is to exploit this FTP server, gain access, and check if any sensitive files are stored on it. Assume the IP address of the server is 192.168.1.55. Document each step, tools used, and any sensitive files discovered.
---Solution:1. Assume the Environment Setup:Target IP: 192.168.1.55Service: FTP (Port 21)Tools: Nmap, Hydra, Netcat, FTP ClientObjective: Check for weak or misconfigured FTP authentication, gain access, and locate sensitive files.

---Step-by-Step Guide:Step 1: Scan the Target Server for Open PortsUse Nmap to verify open ports on the target and confirm FTP service is running:nmap -p 21 192.168.1.55This will show if port 21 is open, confirming the FTP service is accessible.
Step 2: Check for Anonymous FTP AccessAttempt to connect to the FTP server and check if anonymous login is allowed (common misconfiguration).Use a standard FTP client:ftp 192.168.1.55When prompted for a username, enter anonymous, and for the password, enter any email or just press Enter. If anonymous access is allowed, youâ€™ll be logged into the FTP server without credentials.
Step 3: Brute-force FTP Credentials Using HydraIf anonymous access fails, try brute-forcing FTP credentials with Hydra:hydra -l admin -P /path/to/password_list.txt ftp://192.168.1.55Replace admin with common usernames, and point Hydra to a password list file (e.g., password_list.txt). This will try multiple password combinations to crack the FTP login.
Step 4: Explore the FTP Server for Sensitive FilesAfter gaining FTP access (either through anonymous login or cracked credentials), list available directories and files:ftp> lsLook for directories like uploads, backups, or files with names that suggest sensitive content (e.g., confidential.txt, backup.sql).
Step 5: Download and Examine Sensitive FilesIf you find a potentially sensitive file, download it to your local machine:ftp> get confidential.txtAfter downloading, open the file using a text editor or command like cat to view its contents:cat confidential.txtDocument any sensitive information you find in the file, such as usernames, passwords, or personal data.
Step 6: Document and Secure EvidenceTake notes of the steps, credentials used (if any), and content from any sensitive files discovered. Ensure you have permission to store and handle sensitive data according to your testing policy.

---Summary:Nmap was used to identify open FTP ports.Anonymous login was tested for misconfiguration.Hydra was used to brute-force FTP credentials if anonymous login was disabled.An FTP client allowed browsing and downloading sensitive files.
Sensitive files found in the FTP server are documented as evidence of the misconfiguration.Would you like to explore another scenario or more detailed steps on any particular tool?